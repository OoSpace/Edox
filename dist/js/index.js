"use strict";!function(){var artile={title:"",description:"",link:"",image:"",copyright:"",mark:[],author:"",date:""};Vue.component("article-list-comp",{template:"#rss-articleList",props:["articlelist","name"],data:function(){return{hide:!1}},methods:{toggle:function(key){this.hide=!this.hide,console.log(this.name+" : hide : "+key.hide)}}}),new Vue({el:"#mainPage",data:function(){return{siteList:[]}},methods:{initPage:function(){this.getRssFeed()},getRssFeed:function(){var _this=this;axios({url:"https://raw.githubusercontent.com/OoSpace/database/master/rss.json",timeout:3e3,type:"get"}).then(function(resp){if(resp){var data=resp.data,siteList=data&&JSON.parse(decodeURIComponent(data)).siteList||[];_this.siteList=siteList}_this.parseRssList()}).catch(function(error){_this.parseRssList()})},parseRssList:function(){for(var i=0,lg=this.siteList.length;i<lg;i++){var link=this.siteList[i].feedUrl;this.parseRss(link,i)}},parseRss:function(link,index){var _this=this,arry=[];(new RSSParser).parseURL("https://cors-anywhere.herokuapp.com/"+link,function(err,feed){try{feed&&feed.items&&feed.items.forEach(function(entry){var item=JSON.parse(JSON.stringify(artile));item.title=entry.title,item.link=entry.link,item.mark=entry.categories,-1!=link.indexOf("zhihu")?item.author=entry.creator&&entry.creator._:-1!=link.indexOf("segmentfault")?item.author=entry.author:item.author=entry.creator;try{-1!=link.indexOf("segmentfault")?item.date=entry.pubDate.split("T").join(" ").split(".000Z").join(""):item.date=entry.isoDate.split("T").join(" ").split(".000Z").join("")}catch(e){item.date=entry.isoDate}arry.push(item)}),_this.siteList[index].articleList=arry,_this.siteList[index].show=!0}catch(r){feed&&feed.items&&feed.items.forEach(function(entry){var item=JSON.parse(JSON.stringify(artile));item.title=entry.title,item.link=entry.link,item.mark=entry.categories,-1!=link.indexOf("zhihu")?item.author=entry.creator&&entry.creator._:item.author=entry.creator;try{item.date=entry.isoDate.split("T").join(" ").split(".000Z").join("")}catch(e){item.date=entry.isoDate}arry.push(item)}),_this.siteList[index].articleList=arry}})}}}).initPage()}();